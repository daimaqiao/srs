<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <link href="https://vjs.zencdn.net/7.6.0/video-js.css" rel="stylesheet">

  <!-- If you'd like to support IE8 (for Video.js versions prior to v7) -->
  <script src="https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>

  <script src="https://cdn.bootcss.com/flv.js/1.5.0/flv.min.js"></script>

  <title>Live video</title>
</head>

<body>
  <p>
  <h1>Live video (line1: HLS)</h1>
  <video id='my-video' class='video-js' controls preload='auto' width='1024' height='576'
  data-setup='{}'>
    <source id="source" src="/live/obs.m3u8"  type="application/x-mpegURL">  
    <p class='vjs-no-js'>
      To view this video please enable JavaScript, and consider upgrading to a web browser that
      <a href='https://videojs.com/html5-video-support/' target='_blank'>supports HTML5 video</a>
    </p>
  </video>
  </p>

  <hr />

  <p>
  <h1>Live video (line2: FLV)</h1>

  <video id="videoElement" controls width="1024" height="576">Your browser is too old which doesn't support HTML5 video.</video>
  </p>

  <hr />

  <p>
  <h1>Live test chat</h1>
  <iframe id="chatFrame" frameborder="1" scrolling="auto" width="100%" height="400px">
  </iframe>
  </p>

  <script src='https://vjs.zencdn.net/7.6.0/video.js'></script>

  <script type="text/javascript">
	if (flvjs.isSupported()) {
		var videoElement = document.getElementById('videoElement');
		var flvPlayer = flvjs.createPlayer({
			type: 'flv',
            url: '/live/obs.flv?play=test'
		});
		flvPlayer.attachMediaElement(videoElement);
		flvPlayer.load();
	}

	var hostname= window.location.hostname
	document.getElementById("chatFrame").src="http://"+hostname+":3000";

  </script>

</body>
